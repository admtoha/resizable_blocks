<!DOCTYPE html>
<html>
	
	<head>
		
		<meta charset='UTF-8'>
		
		<meta name='viewport' content='width=device-width, maximum-scale=1.0, minimum-scale=1.0'>
		
		<style>
			
			*{
				box-sizing: border-box;
				font-family: Arial;
			}
			
			body{
				font-family: Arial;
			}
			
			h1{
				text-align: center;
			}
			
			h3{
				margin: 1rem;
				text-align: center;
			}
			
			h4{
				margin: .5rem;
				text-align: center;
				color: gray;
			}
			
			.rb_test{
				width: 15rem;
				height: 13rem;
				box-shadow: 0 2px 4px 1px rgba(0, 0, 60, .4) inset;
				border-radius: .4rem;
				overflow: hidden;
				margin: 1rem;
				background-color: rgba(255, 255, 255, .8);
				>div{
					height: 1rem;
					width: 13rem;
					background-color: gray;
					margin: 1rem;
					border-radius: .6rem;
				}
			}
		
		</style>
		
		<script language="JavaScript" type="module" src="./resizable_blocks.js"></script>
		
		<script language="JavaScript" type="module">
			
			//import make_resizable from './resizable_blocks.js';
			//console.log(make_resizable);
			
			//import('./resizable_blocks.js').then(res => console.log(res.default));
			
			/*onload = () => {
				import('./resizable_blocks.js').then(res => {
					const make_resizable = res.default;
					console.log(make_resizable);
				});
			};*/
			
			window.dynamic_creation = () => {
				const container = document.createElement('div');
				container.className = 'rb_test';
				container.id = 't2';
				for(let i = 0; i < 6; i++) container.append(document.createElement('div'));
				container.style = 'border-right: 3px solid blue;';
				
				//container.setAttribute('data-resizable-blocks', 'remember');
				
				/*const res = make_resizable(container, {remember: true});
				document.body.append(container);
				const switch_button = document.createElement('button');
				switch_button.innerText = 'resizable Off';
				switch_button.addEventListener('click', () => res.is_on ? res.off() || (switch_button.innerText = 'resizable On') : res.on() || (switch_button.innerText = 'resizable Off'), {passive: true});
				document.body.append(switch_button);*/
				
				document.body.append(container);
				setTimeout(() => container.setAttribute('data-resizable-blocks', 'right, remember'), 100);
				const switch_button = document.createElement('button');
				switch_button.innerText = 'resizable Off';
				switch_button.addEventListener('click', () => container.data_resizable_blocks?.is_on ? container.removeAttribute('data-resizable-blocks') || (switch_button.innerText = 'resizable On') : container.setAttribute('data-resizable-blocks', 'right, remember') || (switch_button.innerText = 'resizable Off'), {passive: true});
				document.body.append(switch_button);
				
				/*const remake_button = document.createElement('button');
				remake_button.innerText = 'remake to {zone_ls: ["right", "bottom", "right-bottom"]}';
				remake_button.addEventListener('click', () => {
					if(container.data_resizable_blocks) container.data_resizable_blocks.remake({zone_ls: ['right', 'bottom', 'right-bottom']});
					container.style['border-right'] = '3px solid blue';
					container.style['border-bottom'] = '3px solid blue';
				}, {passive: true});
				document.body.append(remake_button);*/
				
				const remake_button = document.createElement('button');
				remake_button.innerText = 'remake to data-resizable-blocks="right, bottom, right-bottom"';
				remake_button.addEventListener('click', () => {
					container.setAttribute('data-resizable-blocks', 'right, bottom, right-bottom');
					container.style['border-right'] = '3px solid blue';
					container.style['border-bottom'] = '3px solid blue';
				}, {passive: true});
				document.body.append(remake_button);
			}		

		</script>
		
		<title> Resizeble Blocks Demo Example </title>
	
	</head>
	
	<body>
		<h1> Resizeble Blocks Demo Example  </h1>
		
		<h3> data-resizable-blocks (default) </h3>
		<div class=rb_test data-resizable-blocks style='border-right: 3px solid blue; border-bottom: 3px solid blue;'>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
		
		<h3> data-resizable-blocks='left, bottom, left-bottom, remember' </h3>
		<h4> container: style='text-align: right', target: style='display: inline-block' </h4>
		<div style='text-align: right;'>
			<div class=rb_test id=t0 data-resizable-blocks='left, bottom, left-bottom, remember' style='display:inline-block; border-left: 3px solid blue; border-bottom: 3px solid blue;'>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
			</div>
		</div>
		
		<h3> data-resizable-blocks='top, right, left, bottom, left-bottom, left-top, right-bottom, right-top' </h3>	
		<h4> target: style='position: absolute' </h4>
		<div style='position: relative; height: 25rem;'>
			<div class=rb_test data-resizable-blocks='top, right, left, bottom, left-bottom, left-top, right-bottom, right-top' style='position: absolute; top: 1rem; left: 25rem; border: 3px solid blue;'>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
			</div>
		</div>
		
		<h3> data-resizable-blocks='right' </h3>
		<h4> container: style='display:flex; flex-flow: row nowrap', target: style='max-width:80%;' </h4>
		<div style='display:flex; flex-flow: row nowrap; width: 80%; box-shadow: 0 2px 4px 1px rgba(0, 0, 60, .4); border-radius: .4rem'>
			<div class=rb_test data-resizable-blocks='right' style='border-right: 3px solid blue; max-width:80%;'>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
			</div>
			<div style='background-color: rgba(100, 100, 100, .4); width: 100%;'></div>
		</div>
		
		<br>
		<h3> Dynamic Creation </h3>
		<h4> id='t2' data-resizable-blocks='right, remember' </h4>
		<center><button onclick='dynamic_creation()'> Create New </button></center>
	
	</body>

</html>
